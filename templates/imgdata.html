<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Bootstrap CRUD Data Table for Database with Modal Form</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

	<style>
		body{
			background-image: linear-gradient( 109.6deg,  rgba(216,78,246,1) 11.2%, rgba(243,77,77,1) 91.1% );

		}
	</style>

</head>
<body>



<div class="container-fluid">

	<div class="table-responsive">

		<br><br>
		<h1 style="color:#fff;">Manage Books</h1>

		  {% if get_flashed_messages() %}
		  {% with msg = get_flashed_messages() %}
				<div class="alert alert-info" role="alert">
					<h2>Message : {{msg}}</h2>
				</div>
		  {% endwith %}
		  {% endif %}


		<form action="{{url_for('bookdata')}}" method="post" enctype="multipart/form-data">

			<input id="files" name="files" placeholder="Choose Image File" class="form-control-sm" type="file">
			<input id="urls" name="urls" placeholder="Enter Url" class="form-control-sm" type="text">
			<div class="btn-group" role="group" aria-label="Basic mixed styles example">
				<button type="submit" class="btn btn-success" data-toggle="modal"><span><i class="material-icons">add_circle</i>Add Image</span></button>&nbsp;&nbsp;
				</div>
		</form>
		<table class="table table-hover ">
			  <thead>
				<tr>
				  <th scope="col">S.NO</th>
				  <th scope="col">NAME</th>
				  <th scope="col">URL</th>
				  <th scope="col">ACTION</th>
				</tr>
			  </thead>

			  <tbody style="color:#fff;">

			  {% for i,row in data %}

			  <tr>
				  <th scope="row">{{i+1}}</th>
				  <td>{{row['img']}}</td>
				  <td>{{row['url']}}</td>
					<td><a href="{{url_for('deleteimg',img=row['img'])}}" class="btn btn-danger">DELETE</a></td>
			  </tr>

			  {% endfor %}

			  </tbody>
		</table>

	</div>

</div>



<script src="{{url_for('static',filename='js/userdata.js')}}"></script>
</body>
</html>